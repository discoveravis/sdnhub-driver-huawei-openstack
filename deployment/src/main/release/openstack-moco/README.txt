Introduction
============

This guide helps to setup the moco server for OpenStack to learn
the REST API supported by OpenStack driver service.

Prerequisites
=============
1. Install the moco standalone server by following the steps given
at https://github.com/dreamhead/moco/blob/master/moco-doc/usage.md#shell

2. Start the moco server for OpenStack as below:
moco http -p 12306 -c mock_openstack.json

NOTE: On MS Windows server, moco does not work. So please use below command
to start the moco server.
java -jar ~/.moco/moco-runner-0.11.0-standalone.jar http -p 12306 -c openstack.json

Please note down the shutdown port reported in console when moco server started.
And use that port to shutdown the server as below:

moco shutdown -p <shutdown port number>

3. Add OpenStack to ESR service by using below sample json
(please refer http://wiki.open-o.org , on how to register VIM using ESR)

{
    "name":"OpenStack Moco Server",
    "vendor": "OpenO",
    "version": "v1.0",
    "description": "OpenStack moco server",
    "type": "openstack",
    "url": "http://127.0.0.1:12306/v3",
    "userName": "admin",
    "password": "password",
    "domain": "domain",
    "tenant": "admin"
}

NOTE: Please note down the ID generated by ESR, which will be used later in
tutorials given below.

4. Start the OpenStack driver services.

Tutorials
=========

For each REST API supported by OpenStack services, corresponding samples
request and response details are provided under the folder 'sample-api-usage'

To test the REST API, either postman or curl command could be used. Before testing,
update the header "X-Driver-Parameter": "extSysID=<VIM ID generated by ESR>" and
use the JSON body as it is.
